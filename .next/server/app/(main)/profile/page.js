(()=>{var e={};e.id=897,e.ids=[897],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1361:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(8962).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},1860:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(8962).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3514:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>j});var a=t(687),n=t(3210),s=t(1361),l=t(1860),o=t(8962);let i=(0,o.A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),c=(0,o.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var d=t(7992);let p=(0,o.A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var u=t(7353),m={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h=n.createContext&&n.createContext(m),f=["attr","size","title"];function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach(function(r){var a,n,s;a=e,n=r,s=t[r],(n=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var a=t.call(e,r||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(n))in a?Object.defineProperty(a,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function v(e){var r=r=>{var t,{attr:a,size:s,title:l}=e,o=function(e,r){if(null==e)return{};var t,a,n=function(e,r){if(null==e)return{};var t={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(r.indexOf(a)>=0)continue;t[a]=e[a]}return t}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)t=s[a],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,f),i=s||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),n.createElement("svg",x({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,o,{className:t,style:b(b({color:e.color||r.color},r.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==h?n.createElement(h.Consumer,null,e=>r(e)):r(m)}function y(e){var r;return(r={tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]},e=>n.createElement(v,x({attr:b({},r.attr)},e),function e(r){return r&&r.map((r,t)=>n.createElement(r.tag,b({key:t},r.attr),e(r.child)))}(r.child)))(e)}function j(){let[e,r]=(0,n.useState)(!1),[t,o]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null),[f,x]=(0,n.useState)({name:"",email:"",phone:"",whatsapp:"",location:"",profileImage:""}),[g,b]=(0,n.useState)(null),[v,j]=(0,n.useState)(null),[w,N]=(0,n.useState)(null),P=e=>{let{name:r,value:t}=e.target;x(e=>({...e,[r]:t}))},k=async()=>{o(!0),N(null);try{let e=new FormData;e.append("name",f.name),e.append("email",f.email),e.append("phone",f.phone),e.append("whatsapp",f.whatsapp),e.append("location",f.location),g&&e.append("profileImage",g);let t=await u.R.updateProfile(e);h(t),x(t),b(null),j(null),r(!1)}catch(e){N(e instanceof Error?e.message:"Failed to save profile")}finally{o(!1)}};return m?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Dealer Profile"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your personal information and preferences"})]}),w&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg",children:w}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 items-start sm:items-center",children:[(0,a.jsxs)("div",{className:"relative w-32 h-32",children:[e?(0,a.jsxs)("label",{className:"cursor-pointer block w-full h-full",children:[(0,a.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100",children:(0,a.jsx)("img",{src:v||f.profileImage||"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 bg-white p-1 rounded-full shadow",children:(0,a.jsx)(s.A,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(!e.target.files||0===e.target.files.length)return;let r=e.target.files[0];return r.type.startsWith("image/")?r.size>5242880?void N("Image exceeds the maximum file size of 5MB"):void(v&&URL.revokeObjectURL(v),b(r),j(URL.createObjectURL(r)),N(null)):void N("Please select an image file (JPEG, PNG, etc.)")},className:"hidden"})]}):(0,a.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100",children:(0,a.jsx)("img",{src:m.profileImage||"/default-avatar.png",alt:"Profile",className:"w-full h-full object-cover"})}),v&&e&&(0,a.jsx)("button",{type:"button",onClick:()=>{v&&URL.revokeObjectURL(v),b(null),j(null)},className:"absolute top-0 right-0 bg-red-500 text-white p-1 rounded-full",children:(0,a.jsx)(l.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"flex-1",children:!e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:m.name}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(i,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:m.email})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(c,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:m.phone})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(y,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:m.whatsapp})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:m.location})]})]})]})}),(0,a.jsx)("div",{children:e?(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:()=>{x(m||f),v&&URL.revokeObjectURL(v),b(null),j(null),r(!1)},className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:k,disabled:t,className:"bg-primary hover:bg-primary-hover text-black px-4 py-2 rounded-lg transition-colors font-medium flex items-center gap-2",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{className:"w-4 h-4"}),"Save Changes"]})})]}):(0,a.jsx)("button",{onClick:()=>r(!0),className:"bg-primary hover:bg-primary-hover text-black px-4 py-2 rounded-lg transition-colors font-medium",children:"Edit Profile"})})]}),e&&(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),(0,a.jsx)("input",{type:"text",name:"name",value:f.name,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",name:"email",value:f.email,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),(0,a.jsx)("input",{type:"text",name:"phone",value:f.phone,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"WhatsApp Number"}),(0,a.jsx)("input",{type:"text",name:"whatsapp",value:f.whatsapp,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Location"}),(0,a.jsx)("input",{type:"text",name:"location",value:f.location,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})})]})]}):(0,a.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,a.jsx)("p",{children:"Loading profile..."})})}},3750:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\carsawa\\\\app\\\\(main)\\\\profile\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\carsawa\\app\\(main)\\profile\\page.tsx","default")},3873:e=>{"use strict";e.exports=require("path")},5313:(e,r,t)=>{Promise.resolve().then(t.bind(t,3750))},6908:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var a=t(5239),n=t(8088),s=t(8170),l=t.n(s),o=t(893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(r,i);let c={children:["",{children:["(main)",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3750)),"D:\\carsawa\\app\\(main)\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9559)),"D:\\carsawa\\app\\(main)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,8014)),"D:\\carsawa\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["D:\\carsawa\\app\\(main)\\profile\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(main)/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7992:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(8962).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8465:(e,r,t)=>{Promise.resolve().then(t.bind(t,3514))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[259,895,915,526],()=>t(6908));module.exports=a})();