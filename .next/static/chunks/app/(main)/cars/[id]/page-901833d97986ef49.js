(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79],{2332:(e,s,t)=>{Promise.resolve().then(t.bind(t,3973))},2895:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(2115),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,a.forwardRef)((t,l)=>{let{color:n="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:h,...x}=t;return(0,a.createElement)("svg",{ref:l,...i,width:c,height:c,stroke:n,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(r(e)),m].join(" "),...x},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(h)?h:[h]])});return t.displayName="".concat(e),t}},3973:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var a=t(5155),i=t(2115),r=t(5695),l=t(2895);let n=(0,l.A)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),c=(0,l.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),o=(0,l.A)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);var d=t(4516);let m=(0,l.A)("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),h=(0,l.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var x=t(4416),u=t(3999);function p(e){let{isOpen:s,onClose:t,carTitle:r,currentPrice:l,onSubmitBid:n}=e,[c,o]=(0,i.useState)(l),[d,m]=(0,i.useState)("");return s?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md relative",children:[(0,a.jsx)("button",{onClick:t,className:"absolute right-4 top-4 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(x.A,{className:"w-5 h-5"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Place a Bid"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:r}),(0,a.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),c<=l)return void m("Bid amount must be higher than the current price");n(c),t()},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Price: KSh ",l.toLocaleString()]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"KSh"}),(0,a.jsx)("input",{type:"number",value:c,onChange:e=>{o(Number(e.target.value)),m("")},className:(0,u.cn)("w-full pl-12 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",d?"border-red-500":"border-gray-300")})]}),d&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:d})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Bidding Rules"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"• Minimum increment: KSh 50,000"}),(0,a.jsx)("li",{children:"• Bid is binding once placed"}),(0,a.jsx)("li",{children:"• Winner must complete purchase within 48 hours"})]})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-primary hover:bg-primary-hover text-black font-medium py-2 rounded-lg transition-colors",children:"Place Bid"})]})]})}):null}var g=t(4186);function N(e){let{bids:s}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Bid History"}),(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-medium",children:["KSh ",e.amount.toLocaleString()]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.bidder})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500 text-sm",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-1"}),e.time]})]},e.id))})]})}let j={id:"1",title:"Car Details Not Found",year:new Date().getFullYear(),price:0,location:"Unknown",mileage:0,condition:"Good",description:"Car details could not be loaded. Please go back to listings and try again.",features:["No features available"],images:["https://images.unsplash.com/photo-1594502184342-2e12f877aa73?auto=format&fit=crop&w=1200&q=80"],inspectionReport:{exterior:"Unknown",interior:"Unknown",mechanical:"Unknown",lastInspection:"Unknown"}};function y(){let[e,s]=(0,i.useState)(0),[t,l]=(0,i.useState)(!1),[x,u]=(0,i.useState)([]),[g,y]=(0,i.useState)(j),[b,f]=(0,i.useState)(!1),v=(0,r.useParams)().id,w=(0,r.useRouter)();return((0,i.useEffect)(()=>{if(v){let e=localStorage.getItem("car-".concat(v));if(e){let s=JSON.parse(e);y({...s,description:s.description||"No description available for this vehicle.",features:s.features||["Leather Interior","Sunroof","Navigation System","Bluetooth","Reverse Camera","Cruise Control"],images:s.images||[s.image,s.image,s.image],inspectionReport:s.inspectionReport||{exterior:s.condition,interior:s.condition,mechanical:s.condition,lastInspection:new Date().toISOString().split("T")[0]}})}}let e=localStorage.getItem("bids-".concat(v));if(e)u(JSON.parse(e));else{let e=[{id:"1",amount:Math.floor(.98*g.price),bidder:"Sarah M.",time:"3 hours ago"},{id:"2",amount:Math.floor(.95*g.price),bidder:"Mike K.",time:"5 hours ago"}];u(e),localStorage.setItem("bids-".concat(v),JSON.stringify(e))}},[v,g.price]),v)?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,a.jsx)("div",{className:"aspect-[16/9] relative rounded-xl overflow-hidden",children:(0,a.jsx)("img",{src:g.images[e],alt:g.title,className:"absolute inset-0 w-full h-full object-cover"})}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:g.images.map((t,i)=>(0,a.jsx)("button",{onClick:()=>s(i),className:"aspect-[16/9] relative rounded-lg overflow-hidden ".concat(e===i?"ring-2 ring-primary":""),children:(0,a.jsx)("img",{src:t,alt:"".concat(g.title," view ").concat(i+1),className:"absolute inset-0 w-full h-full object-cover"})},i))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-2",children:g.title}),(0,a.jsxs)("p",{className:"text-primary font-bold text-3xl mb-4",children:["KSh ",g.price.toLocaleString()]}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-gray-600 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:g.year})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[g.mileage.toLocaleString()," km"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:g.location})]})]}),(0,a.jsx)("button",{onClick:()=>l(!0),className:"w-full font-medium py-3 rounded-lg transition-colors mb-4 ".concat(b?"bg-green-500 hover:bg-green-600 text-white":"bg-primary hover:bg-primary-hover text-black"),children:b?"Bid Placed Successfully":"Place Bid"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Bidding ends in 23 hours"})]}),(0,a.jsx)(N,{bids:x})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-600",children:g.description})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,a.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Features"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:g.features.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,a.jsx)(m,{className:"w-4 h-4 text-primary"}),(0,a.jsx)("span",{children:e})]},s))})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm h-fit",children:[(0,a.jsx)("h2",{className:"font-semibold text-lg mb-4",children:"Inspection Report"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Exterior"}),(0,a.jsx)("span",{className:"text-green-600",children:g.inspectionReport.exterior})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Interior"}),(0,a.jsx)("span",{className:"text-green-600",children:g.inspectionReport.interior})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Mechanical"}),(0,a.jsx)("span",{className:"text-green-600",children:g.inspectionReport.mechanical})]}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)(h,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Last inspected on ",g.inspectionReport.lastInspection]})]})})]})]})]}),(0,a.jsx)(p,{isOpen:t,onClose:()=>l(!1),carTitle:g.title,currentPrice:g.price,onSubmitBid:e=>{let s={id:Date.now().toString(),amount:e,bidder:"You",time:"Just now"},t=[s,...x];u(t),localStorage.setItem("bids-".concat(v),JSON.stringify(t));let a=JSON.parse(localStorage.getItem("activeBids")||"[]"),i={id:s.id,carId:v,carName:g.title,amount:e,timeLeft:"23h 45m",image:g.images[0],status:"pending"};localStorage.setItem("activeBids",JSON.stringify([...a,i]));let r=JSON.parse(localStorage.getItem("recentActivities")||"[]"),l={id:Date.now().toString(),message:"New bid placed on ".concat(g.title),time:"Just now",type:"bid"};localStorage.setItem("recentActivities",JSON.stringify([l,...r])),f(!0)}})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Car Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't find the car you're looking for."}),(0,a.jsx)("button",{onClick:()=>w.push("/listings"),className:"bg-primary hover:bg-primary-hover text-black px-4 py-2 rounded-lg transition-colors",children:"Return to Listings"})]})}},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(2596),i=t(9688);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.QP)((0,a.$)(s))}},4186:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4416:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4516:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(2895).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5695:(e,s,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})}},e=>{var s=s=>e(e.s=s);e.O(0,[277,441,684,358],()=>s(2332)),_N_E=e.O()}]);